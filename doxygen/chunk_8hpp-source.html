<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ISIS Core Library: /SCR/isis/lib/Core/DataStorage/chunk.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>/SCR/isis/lib/Core/DataStorage/chunk.hpp</h1><a href="chunk_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">// C++ Interface: chunk</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Description:</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">// Author: Enrico Reimer&lt;reimer@cbs.mpg.de&gt;, (C) 2009</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment">// Copyright: See COPYING file that comes with this distribution</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef CHUNK_H</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define CHUNK_H</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="typeptr_8hpp.html">typeptr.hpp</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="log_8hpp.html">CoreUtils/log.hpp</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="propmap_8hpp.html">CoreUtils/propmap.hpp</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="DataStorage_2common_8hpp.html">common.hpp</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="ndimensional_8hpp.html">ndimensional.hpp</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include "<a class="code" href="vector_8hpp.html">CoreUtils/vector.hpp</a>"</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;boost/numeric/ublas/matrix.hpp&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>isis
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029 <span class="keyword">namespace </span>data
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="namespaceisis_1_1data.html#e7d0c035af83cf2a2824d5376559ff3c">00032</a> <span class="keyword">class </span><a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>;
<a name="l00033"></a>00033 <span class="keyword">typedef</span> std::list&lt;boost::shared_ptr&lt;Chunk&gt; &gt; <a class="code" href="namespaceisis_1_1data.html#e7d0c035af83cf2a2824d5376559ff3c">ChunkList</a>;
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">namespace </span>_internal
<a name="l00037"></a>00037 {
<a name="l00038"></a><a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html">00038</a> <span class="keyword">class </span><a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html">ChunkBase</a> : <span class="keyword">public</span> <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html">NDimensional</a>&lt;4&gt;, <span class="keyword">public</span> util::PropMap
<a name="l00039"></a>00039 {
<a name="l00040"></a>00040 <span class="keyword">protected</span>:
<a name="l00041"></a><a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#17cb1f7ad5c33168f72266261e6791aa">00041</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#17cb1f7ad5c33168f72266261e6791aa">needed</a>;
<a name="l00042"></a>00042 <span class="keyword">public</span>:
<a name="l00043"></a>00043     <span class="comment">//  static const dimensions dimension[n_dims]={readDim,phaseDim,sliceDim,timeDim};</span>
<a name="l00044"></a><a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#f158266deba5187c099ea422ea72297b">00044</a>     <span class="keyword">typedef</span> isis::util::_internal::TypeReference &lt;ChunkBase &gt; <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html" title="Base class to store and handle references to Type and TypePtr objects.">Reference</a>;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     <a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#375cde2ad01627990a1d8fec05afd298">ChunkBase</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim, <span class="keywordtype">size_t</span> thirdDim, <span class="keywordtype">size_t</span> fourthDim );
<a name="l00047"></a>00047     <span class="keyword">virtual</span> <a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#185384c22ed988f0d06a97c182f7239c">~ChunkBase</a>(); <span class="comment">//needed to make it polymorphic</span>
<a name="l00048"></a>00048 };
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00056"></a><a class="code" href="classisis_1_1data_1_1Chunk.html">00056</a> <span class="keyword">class </span><a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> : <span class="keyword">public</span> _internal::ChunkBase, <span class="keyword">protected</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html">TypePtrReference</a>
<a name="l00057"></a>00057 {
<a name="l00058"></a>00058 <span class="keyword">protected</span>:
<a name="l00068"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#da983aa78f40b01147f2efea027729e2">00068</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> D&gt; <a class="code" href="classisis_1_1data_1_1Chunk.html#da983aa78f40b01147f2efea027729e2" title="Creates an data-block from existing data.">Chunk</a>( TYPE *src, D d, <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 ):
<a name="l00069"></a>00069         _internal::<a class="code" href="classisis_1_1data_1_1__internal_1_1ChunkBase.html#375cde2ad01627990a1d8fec05afd298">ChunkBase</a>( firstDim, secondDim, thirdDim, fourthDim ),
<a name="l00070"></a>00070         util::_internal::<a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#2393beb77de751cea3e5520784b19732" title="Default contructor. Creates an empty reference.">TypeReference</a>&lt;_internal::TypePtrBase&gt;( new <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr</a>&lt;TYPE&gt;( src, <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#5355236b36fadb5a10099ba99e786e04" title="Get the size of the object in elements of TYPE.">volume</a>(), d ) ) {}
<a name="l00071"></a>00071     <a class="code" href="classisis_1_1data_1_1Chunk.html#da983aa78f40b01147f2efea027729e2" title="Creates an data-block from existing data.">Chunk</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html">TypePtrReference</a> &amp;src, <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 );
<a name="l00072"></a>00072 <span class="keyword">public</span>:
<a name="l00078"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#b56c131a87f1bbf77b4a6bfe5f990409">00078</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; TYPE &amp;<a class="code" href="classisis_1_1data_1_1Chunk.html#b56c131a87f1bbf77b4a6bfe5f990409" title="Gets a reference to the element at a given index.">voxel</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 0, <span class="keywordtype">size_t</span> thirdDim = 0, <span class="keywordtype">size_t</span> fourthDim = 0 ) {
<a name="l00079"></a>00079         <span class="keyword">const</span> <span class="keywordtype">size_t</span> idx[] = {firstDim, secondDim, thirdDim, fourthDim};
<a name="l00080"></a>00080         <a class="code" href="log_8hpp.html#977f6c27373576d6ffe1523fc2afb8b6">LOG_IF</a>( ! <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#7c7e105bb1b3f1f506eeb98d48623816" title="Check if index fits into size of the object.">rangeCheck</a>( idx ), <a class="code" href="namespaceisis_1_1data.html#1fa5e73edba41053e31839cba7134dbd">Debug</a>, <a class="code" href="group__util.html#ggfe55030315ca143f9be26fd278df9f8241a0a4591faa6079940551ad22c43597">isis::error</a> )
<a name="l00081"></a>00081                 &lt;&lt; <span class="stringliteral">"Index "</span> &lt;&lt; <a class="code" href="namespaceisis_1_1util.html#e24128f161a50f6a6eabd25c0209cffe">util::ivector4</a>( firstDim, secondDim, thirdDim, fourthDim )
<a name="l00082"></a>00082                 &lt;&lt; <span class="stringliteral">" is out of range "</span> &lt;&lt; <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#da5042d68f01ea4bf9b3edf0e08b20d9" title="generates a string representing the size">sizeToString</a>();
<a name="l00083"></a>00083         <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;</a> &amp;ret = asTypePtr&lt;TYPE&gt;();
<a name="l00084"></a>00084         <span class="keywordflow">return</span> ret[<a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#bf1ad4a9ece3e8866cd0c52d7e5be256" title="Compute linear index from n-dimensional index,.">dim2Index</a>( idx )];
<a name="l00085"></a>00085     }
<a name="l00090"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#65adc88d1fbf9ff35dbe610e162552cc">00090</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; TYPE <a class="code" href="classisis_1_1data_1_1Chunk.html#b56c131a87f1bbf77b4a6bfe5f990409" title="Gets a reference to the element at a given index.">voxel</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 0, <span class="keywordtype">size_t</span> thirdDim = 0, <span class="keywordtype">size_t</span> fourthDim = 0 )<span class="keyword">const </span>{
<a name="l00091"></a>00091         <span class="keyword">const</span> <span class="keywordtype">size_t</span> idx[] = {firstDim, secondDim, thirdDim, fourthDim};
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <span class="keywordflow">if</span> ( !<a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#7c7e105bb1b3f1f506eeb98d48623816" title="Check if index fits into size of the object.">rangeCheck</a>( idx ) ) {
<a name="l00094"></a>00094             <a class="code" href="log_8hpp.html#df04aa30f03b88d867f551c7d349f738">LOG</a>( <a class="code" href="namespaceisis_1_1data.html#1fa5e73edba41053e31839cba7134dbd">Debug</a>, <a class="code" href="group__util.html#ggfe55030315ca143f9be26fd278df9f8241a0a4591faa6079940551ad22c43597">isis::error</a> )
<a name="l00095"></a>00095                     &lt;&lt; <span class="stringliteral">"Index "</span> &lt;&lt; firstDim &lt;&lt; <span class="stringliteral">"|"</span> &lt;&lt; secondDim &lt;&lt; <span class="stringliteral">"|"</span> &lt;&lt; thirdDim &lt;&lt; <span class="stringliteral">"|"</span> &lt;&lt; fourthDim
<a name="l00096"></a>00096                     &lt;&lt; <span class="stringliteral">" is out of range ("</span> &lt;&lt; <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#da5042d68f01ea4bf9b3edf0e08b20d9" title="generates a string representing the size">sizeToString</a>() &lt;&lt; <span class="stringliteral">")"</span>;
<a name="l00097"></a>00097         }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099         <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;</a> &amp;ret = getTypePtr&lt;TYPE&gt;();
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="keywordflow">return</span> ret[<a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#bf1ad4a9ece3e8866cd0c52d7e5be256" title="Compute linear index from n-dimensional index,.">dim2Index</a>( idx )];
<a name="l00102"></a>00102     }
<a name="l00103"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#61a43c66a41bbf51fa9abbdc1870fe9e">00103</a>     <a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html">_internal::TypePtrBase</a> &amp;<a class="code" href="classisis_1_1data_1_1Chunk.html#61a43c66a41bbf51fa9abbdc1870fe9e">asTypePtrBase</a>() {
<a name="l00104"></a>00104         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#c8ad752060e337ccf2b474d09409f5c8">operator*</a>();
<a name="l00105"></a>00105     }
<a name="l00106"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">00106</a>     <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html">_internal::TypePtrBase</a> &amp;<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>()<span class="keyword">const </span>{
<a name="l00107"></a>00107         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#c8ad752060e337ccf2b474d09409f5c8">operator*</a>();
<a name="l00108"></a>00108     }
<a name="l00109"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#47765597588ad4688047930e95b8a237">00109</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;</a> &amp;<a class="code" href="classisis_1_1data_1_1Chunk.html#47765597588ad4688047930e95b8a237">asTypePtr</a>() {
<a name="l00110"></a>00110         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#61a43c66a41bbf51fa9abbdc1870fe9e">asTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#d4e055a17bc940bb5270de6b7c7c8ea1" title="Dynamically cast the TypeBase up to its actual TypePtr&amp;lt;T&amp;gt;.">cast_to_TypePtr</a>&lt;TYPE&gt;();
<a name="l00111"></a>00111     }
<a name="l00112"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#50d408be5e49e988b26e3d76616a3a17">00112</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#50d408be5e49e988b26e3d76616a3a17">getTypePtr</a>()<span class="keyword">const </span>{
<a name="l00113"></a>00113         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#d4e055a17bc940bb5270de6b7c7c8ea1" title="Dynamically cast the TypeBase up to its actual TypePtr&amp;lt;T&amp;gt;.">cast_to_TypePtr</a>&lt;TYPE&gt;();
<a name="l00114"></a>00114     }
<a name="l00115"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">00115</a>     <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">use_count</a>()<span class="keyword">const </span>{
<a name="l00116"></a>00116         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#e79ab72c0d1706f1614b2acb2fb67897">use_count</a>();
<a name="l00117"></a>00117     }
<a name="l00118"></a>00118     <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#93b19e80d6b937c7b5b4ded2d42efc6b">cloneToMem</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 )<span class="keyword">const</span>;
<a name="l00119"></a>00119 
<a name="l00126"></a>00126     <span class="keywordtype">bool</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#61ca98309e14cec0d310af35e4e9770c" title="Ensure, the chunk has the type with the requested id.">makeOfTypeId</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span> );
<a name="l00133"></a>00133     <span class="keywordtype">bool</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#61ca98309e14cec0d310af35e4e9770c" title="Ensure, the chunk has the type with the requested id.">makeOfTypeId</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="namespaceisis_1_1data.html#652d0963aeb92747bb0f48bee4652afd">scaling_pair</a> &amp;scaling );
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#150c81e23bd86466e7a62bab6ef4ba6a">00135</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">bool</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#150c81e23bd86466e7a62bab6ef4ba6a">copyToMem</a>( T *dst, <span class="keyword">const</span> <a class="code" href="namespaceisis_1_1data.html#652d0963aeb92747bb0f48bee4652afd">scaling_pair</a> &amp;scaling )<span class="keyword">const </span>{
<a name="l00136"></a>00136         <span class="comment">// wrap the raw memory at into an non-deleting TypePtr of the length of the chunk</span>
<a name="l00137"></a>00137         <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;T&gt;</a> dstPtr( dst, <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#5355236b36fadb5a10099ba99e786e04" title="Get the size of the object in elements of TYPE.">volume</a>(), <span class="keyword">typename</span> <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;T&gt;::NonDeleter</a>() );
<a name="l00138"></a>00138         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#58c9f8e1e92babf80dfe2a9863b623da" title="Copy (or Convert) data from this to another TypePtr of maybe another type and the...">convertTo</a>( dstPtr, scaling ); <span class="comment">// copy-convert the data into dstPtr</span>
<a name="l00139"></a>00139     }
<a name="l00140"></a>00140 
<a name="l00142"></a>00142     <a class="code" href="namespaceisis_1_1data.html#652d0963aeb92747bb0f48bee4652afd">scaling_pair</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#e700378263b34d8a0872f9d994a4d05f" title="get the scaling (and offset) which would be used in an conversion to the given type...">getScalingTo</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#87bbb0e0cd24d7db11adb948121173fc">typeID</a>, <a class="code" href="namespaceisis_1_1data.html#69354ef53dcb79cbe577ae5fe8764e49">autoscaleOption</a> scaleopt = <a class="code" href="namespaceisis_1_1data.html#69354ef53dcb79cbe577ae5fe8764e493a9ca3fecf5ccbb0f9d787d31a9edd2f">autoscale</a> )<span class="keyword">const</span>;
<a name="l00143"></a>00143     <a class="code" href="namespaceisis_1_1data.html#652d0963aeb92747bb0f48bee4652afd">scaling_pair</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#e700378263b34d8a0872f9d994a4d05f" title="get the scaling (and offset) which would be used in an conversion to the given type...">getScalingTo</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#87bbb0e0cd24d7db11adb948121173fc">typeID</a>, <span class="keyword">const</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeBase.html">util::_internal::TypeBase</a> &amp;min, <span class="keyword">const</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeBase.html">util::_internal::TypeBase</a> &amp;max, <a class="code" href="namespaceisis_1_1data.html#69354ef53dcb79cbe577ae5fe8764e49">autoscaleOption</a> scaleopt = <a class="code" href="namespaceisis_1_1data.html#69354ef53dcb79cbe577ae5fe8764e493a9ca3fecf5ccbb0f9d787d31a9edd2f">autoscale</a> )<span class="keyword">const</span>;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#ca3c6211509e3a590332b9dd545f0041">bytes_per_voxel</a>()<span class="keyword">const</span>;
<a name="l00147"></a>00147     std::string <a class="code" href="classisis_1_1data_1_1Chunk.html#df0e4855d55e2f6af5989762116c4e0b">typeName</a>()<span class="keyword">const</span>;
<a name="l00148"></a>00148     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#87bbb0e0cd24d7db11adb948121173fc">typeID</a>()<span class="keyword">const</span>;
<a name="l00149"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#ee7041a81d699144ccc33a32818e5893">00149</a>     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">bool</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#ee7041a81d699144ccc33a32818e5893">is</a>()<span class="keyword">const </span>{
<a name="l00150"></a>00150         <span class="keywordflow">return</span> <span class="keyword">get</span>()-&gt;is&lt;T&gt;();
<a name="l00151"></a>00151     }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="keywordtype">void</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#8d7efa596e75bcc9b8bfd156a5614e31">copyRange</a>( <span class="keyword">const</span> <span class="keywordtype">size_t</span> source_start[], <span class="keyword">const</span> <span class="keywordtype">size_t</span> source_end[], <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keyword">const</span> <span class="keywordtype">size_t</span> destination[] )<span class="keyword">const</span>;
<a name="l00154"></a>00154     <span class="keywordtype">void</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#c2575e16440410c8f65b338c034ea405">copyLine</a>( <span class="keywordtype">size_t</span> secondDimS, <span class="keywordtype">size_t</span> thirdDimS, <span class="keywordtype">size_t</span> fourthDimS, <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keywordtype">size_t</span> secondDimD, <span class="keywordtype">size_t</span> thirdDimD, <span class="keywordtype">size_t</span> fourthDimD )<span class="keyword">const</span>;
<a name="l00155"></a>00155     <span class="keywordtype">void</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#bbd201902f0b2ab1f3eed2b16efa6f43">copySlice</a>( <span class="keywordtype">size_t</span> thirdDimS, <span class="keywordtype">size_t</span> fourthDimS, <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keywordtype">size_t</span> thirdDimD, <span class="keywordtype">size_t</span> fourthDimD )<span class="keyword">const</span>;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#5589308a918ae2bbb59dcb6b02119f76">cmpRange</a>( <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> end, <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keywordtype">size_t</span> destination )<span class="keyword">const</span>;
<a name="l00158"></a>00158     <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#5589308a918ae2bbb59dcb6b02119f76">cmpRange</a>( <span class="keyword">const</span> <span class="keywordtype">size_t</span> source_start[], <span class="keyword">const</span> <span class="keywordtype">size_t</span> source_end[], <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keyword">const</span> <span class="keywordtype">size_t</span> destination[] )<span class="keyword">const</span>;
<a name="l00159"></a>00159     <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#986bd0e580e58faafea260e83532f65c">cmpLine</a>( <span class="keywordtype">size_t</span> secondDimS, <span class="keywordtype">size_t</span> thirdDimS, <span class="keywordtype">size_t</span> fourthDimS, <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keywordtype">size_t</span> secondDimD, <span class="keywordtype">size_t</span> thirdDimD, <span class="keywordtype">size_t</span> fourthDimD )<span class="keyword">const</span>;
<a name="l00160"></a>00160     <span class="keywordtype">size_t</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#9d6703af9784384c419bd9d55acdceac">cmpSlice</a>( <span class="keywordtype">size_t</span> thirdDimS, <span class="keywordtype">size_t</span> fourthDimS, <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;dst, <span class="keywordtype">size_t</span> thirdDimD, <span class="keywordtype">size_t</span> fourthDimD )<span class="keyword">const</span>;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#262d8806fc5a04c4a569fc4f3eb41790">getMinMax</a>( <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html">util::TypeReference</a> &amp;min, <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html">util::TypeReference</a> &amp;max )<span class="keyword">const</span>;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;<a class="code" href="classisis_1_1data_1_1Chunk.html#f781a7daa56e2f1e4f73574727cca020">operator=</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref );
<a name="l00165"></a>00165 
<a name="l00175"></a>00175     <a class="code" href="namespaceisis_1_1data.html#e7d0c035af83cf2a2824d5376559ff3c">ChunkList</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#e75e37d20a1f022c94cf613a9d0fcb2d" title="Splices the chunk at the uppermost dimension and automatically sets indexOrigin and...">autoSplice</a>( uint32_t acquisitionNumberStride = 0 )<span class="keyword">const</span>;
<a name="l00176"></a>00176 
<a name="l00184"></a>00184     <a class="code" href="namespaceisis_1_1data.html#e7d0c035af83cf2a2824d5376559ff3c">ChunkList</a> <a class="code" href="classisis_1_1data_1_1Chunk.html#19700ba27d3a86db35bdded8f174abd7" title="Splices the chunk at the given dimension and all dimensions above.">splice</a>( <a class="code" href="namespaceisis_1_1data.html#157a8a81ce7fb08f84af9c27b7d251a3">dimensions</a> atDim )<span class="keyword">const</span>;
<a name="l00185"></a>00185 
<a name="l00198"></a><a class="code" href="classisis_1_1data_1_1Chunk.html#d9722f8645256a14046f97adbc9c1081">00198</a>     <span class="keywordtype">void</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#d9722f8645256a14046f97adbc9c1081" title="Transforms the image coordinate system into an other system by multiplying the orientation...">transformCoords</a>( boost::numeric::ublas::matrix&lt;float&gt; <a class="code" href="classisis_1_1util_1_1PropMap.html#3997540abdffd6f8cda3732058c4019e" title="Transform an existing property into another.">transform</a> ) {
<a name="l00199"></a>00199         <a class="code" href="namespaceisis_1_1data_1_1__internal.html#83d86e81f0fcdeddecef0ed0f7768c92">isis::data::_internal::transformCoords</a>( *<span class="keyword">this</span>, transform );
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00208"></a>00208     <span class="keywordtype">bool</span> <a class="code" href="classisis_1_1data_1_1Chunk.html#15e109560d7af3eaab6d1da837da2dfa" title="Swaps the image along a dimension dim in image space.">swapAlong</a>( <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">size_t</span> dim = 0, <span class="keywordtype">bool</span> convertTransform = <span class="keyword">true</span> ) <span class="keyword">const</span>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00213"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html">00213</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">class </span><a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk</a> : <span class="keyword">public</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>
<a name="l00214"></a>00214 {
<a name="l00215"></a>00215 <span class="keyword">public</span>:
<a name="l00217"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55">00217</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55" title="Create an empty MemChunk with the given size.">MemChunk</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 ):
<a name="l00218"></a>00218         <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>(
<a name="l00219"></a>00219             ( TYPE * )calloc( fourthDim *thirdDim *secondDim *firstDim, sizeof( TYPE ) ),
<a name="l00220"></a>00220             typename <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr</a>&lt;TYPE&gt;::BasicDeleter(),
<a name="l00221"></a>00221             firstDim, secondDim, thirdDim, fourthDim
<a name="l00222"></a>00222         ) {}
<a name="l00233"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#9350c6f799714e12f5a171000d185683">00233</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55" title="Create an empty MemChunk with the given size.">MemChunk</a>( <span class="keyword">const</span> TYPE *<span class="keyword">const</span> org, <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 ):
<a name="l00234"></a>00234         <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>(
<a name="l00235"></a>00235             ( TYPE * )malloc( sizeof( TYPE )*fourthDim *thirdDim *secondDim *firstDim ),
<a name="l00236"></a>00236             typename <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr</a>&lt;TYPE&gt;::BasicDeleter(),
<a name="l00237"></a>00237             firstDim, secondDim, thirdDim, fourthDim
<a name="l00238"></a>00238         ) {
<a name="l00239"></a>00239         asTypePtr&lt;TYPE&gt;().copyFromMem( org, <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#5355236b36fadb5a10099ba99e786e04" title="Get the size of the object in elements of TYPE.">volume</a>() );
<a name="l00240"></a>00240     }
<a name="l00242"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#19ce57cbc76c505bdb119695dd5a3d7b">00242</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55" title="Create an empty MemChunk with the given size.">MemChunk</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) {
<a name="l00243"></a>00243         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00244"></a>00244         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00245"></a>00245     }
<a name="l00252"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#091650e852746a55b14add69b4721f43">00252</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55" title="Create an empty MemChunk with the given size.">MemChunk</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref, <span class="keyword">const</span> <a class="code" href="namespaceisis_1_1data.html#652d0963aeb92747bb0f48bee4652afd">scaling_pair</a> &amp;scaling ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) {
<a name="l00253"></a>00253         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00254"></a>00254         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a>, scaling ) );
<a name="l00255"></a>00255     }
<a name="l00256"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#cf3a698e1062c7b897f2d1cfb8a4626c">00256</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html#b9bf44f7a8c88f9e0fe264f555c4eb55" title="Create an empty MemChunk with the given size.">MemChunk</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk&lt;TYPE&gt;</a> &amp;ref ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) { <span class="comment">//this is needed, to prevent generation of default-copy constructor</span>
<a name="l00257"></a>00257         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00258"></a>00258         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00259"></a>00259     }
<a name="l00261"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#f9f6ea2b3fafbeb2f268abd3b8c3a1a7">00261</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk</a> &amp;<a class="code" href="classisis_1_1data_1_1MemChunk.html#f9f6ea2b3fafbeb2f268abd3b8c3a1a7" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref ) {
<a name="l00262"></a>00262         <a class="code" href="log_8hpp.html#977f6c27373576d6ffe1523fc2afb8b6">LOG_IF</a>( <a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">use_count</a>() &gt; 1, <a class="code" href="namespaceisis_1_1data.html#1fa5e73edba41053e31839cba7134dbd">Debug</a>, <a class="code" href="group__util.html#ggfe55030315ca143f9be26fd278df9f825e3b72b2efcd89afa9487c776fb12d19">warning</a> )
<a name="l00263"></a>00263                 &lt;&lt; <span class="stringliteral">"Not overwriting current chunk memory (which is still used by "</span> &lt;&lt; <a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">use_count</a>() - 1 &lt;&lt; <span class="stringliteral">" other chunk(s))."</span>;
<a name="l00264"></a>00264         <a class="code" href="classisis_1_1data_1_1Chunk.html#f781a7daa56e2f1e4f73574727cca020">Chunk::operator=</a>( ref ); <span class="comment">//copy the chunk of ref</span>
<a name="l00265"></a>00265         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00266"></a>00266         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00267"></a>00267         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00268"></a>00268     }
<a name="l00270"></a><a class="code" href="classisis_1_1data_1_1MemChunk.html#94aec23312fc84454dcde422985446af">00270</a>     <a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk</a> &amp;<a class="code" href="classisis_1_1data_1_1MemChunk.html#f9f6ea2b3fafbeb2f268abd3b8c3a1a7" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk&lt;TYPE&gt;</a> &amp;ref ) { <span class="comment">//this is needed, to prevent generation of default-copy operator</span>
<a name="l00271"></a>00271         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1MemChunk.html#f9f6ea2b3fafbeb2f268abd3b8c3a1a7" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( static_cast&lt;const Chunk &amp;&gt;( ref ) );
<a name="l00272"></a>00272     }
<a name="l00273"></a>00273 };
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 
<a name="l00276"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html">00276</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">class </span><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html">MemChunkNonDel</a> : <span class="keyword">public</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>
<a name="l00277"></a>00277 {
<a name="l00278"></a>00278 <span class="keyword">public</span>:
<a name="l00279"></a>00279     <span class="comment">//</span>
<a name="l00281"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946">00281</a> <span class="comment"></span>    <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946" title="Create an empty MemChunkNoDel with the given size.">MemChunkNonDel</a>( <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 ):
<a name="l00282"></a>00282         <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>(
<a name="l00283"></a>00283             ( TYPE * )calloc( fourthDim *thirdDim *secondDim *firstDim, sizeof( TYPE ) ),
<a name="l00284"></a>00284             typename <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr</a>&lt;TYPE&gt;::NonDeleter(),
<a name="l00285"></a>00285             firstDim, secondDim, thirdDim, fourthDim
<a name="l00286"></a>00286         ) {}
<a name="l00298"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#775dcb219ac586ad5777e2e11ef290e5">00298</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946" title="Create an empty MemChunkNoDel with the given size.">MemChunkNonDel</a>( <span class="keyword">const</span> TYPE *<span class="keyword">const</span> org, <span class="keywordtype">size_t</span> firstDim, <span class="keywordtype">size_t</span> secondDim = 1, <span class="keywordtype">size_t</span> thirdDim = 1, <span class="keywordtype">size_t</span> fourthDim = 1 ):
<a name="l00299"></a>00299         <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>(
<a name="l00300"></a>00300             ( TYPE * )malloc( sizeof( TYPE )*fourthDim *thirdDim *secondDim *firstDim ),
<a name="l00301"></a>00301             typename <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr</a>&lt;TYPE&gt;::NonDeleter(),
<a name="l00302"></a>00302             firstDim, secondDim, thirdDim, fourthDim
<a name="l00303"></a>00303         ) {
<a name="l00304"></a>00304         asTypePtr&lt;TYPE&gt;().copyFromMem( org, <a class="code" href="classisis_1_1data_1_1__internal_1_1NDimensional.html#5355236b36fadb5a10099ba99e786e04" title="Get the size of the object in elements of TYPE.">volume</a>() );
<a name="l00305"></a>00305     }
<a name="l00307"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#4625a4b33cc1cc70d9fd3d0902d47473">00307</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946" title="Create an empty MemChunkNoDel with the given size.">MemChunkNonDel</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) {
<a name="l00308"></a>00308         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00309"></a>00309         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00310"></a>00310     }
<a name="l00318"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#6dbeebf9cc984d37c7fd81853fda4eb3">00318</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946" title="Create an empty MemChunkNoDel with the given size.">MemChunkNonDel</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref, <span class="keyword">const</span> <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeBase.html">util::_internal::TypeBase</a> &amp;min, <span class="keyword">const</span>  <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeBase.html">util::_internal::TypeBase</a> &amp;max ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) {
<a name="l00319"></a>00319         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00320"></a>00320         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a>, min, max ) );
<a name="l00321"></a>00321     }
<a name="l00322"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#df659ede265fa97b7f817da74bff19a7">00322</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#5abe51a1cf78f23d68b30ba95e57b946" title="Create an empty MemChunkNoDel with the given size.">MemChunkNonDel</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1MemChunk.html" title="Chunk class for memory-based buffers.">MemChunk&lt;TYPE&gt;</a> &amp;ref ): <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a>( ref ) { <span class="comment">//this is needed, to prevent generation of default-copy constructor</span>
<a name="l00323"></a>00323         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00324"></a>00324         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00325"></a>00325     }
<a name="l00327"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#3c13bcfbb74e214c66207a712829a865">00327</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html">MemChunkNonDel</a> &amp;<a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#3c13bcfbb74e214c66207a712829a865" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1Chunk.html" title="Main class for four-dimensional random-access data blocks.">Chunk</a> &amp;ref ) {
<a name="l00328"></a>00328         <a class="code" href="log_8hpp.html#977f6c27373576d6ffe1523fc2afb8b6">LOG_IF</a>( <a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">use_count</a>() &gt; 1, <a class="code" href="namespaceisis_1_1data.html#1fa5e73edba41053e31839cba7134dbd">Debug</a>, <a class="code" href="group__util.html#ggfe55030315ca143f9be26fd278df9f825e3b72b2efcd89afa9487c776fb12d19">warning</a> )
<a name="l00329"></a>00329                 &lt;&lt; <span class="stringliteral">"Not overwriting current chunk memory (which is still used by "</span> &lt;&lt; <a class="code" href="classisis_1_1data_1_1Chunk.html#5e37492b25ac7ff8396904c3d864ec3e">use_count</a>() - 1 &lt;&lt; <span class="stringliteral">" other chunk(s))."</span>;
<a name="l00330"></a>00330         <a class="code" href="classisis_1_1data_1_1Chunk.html#f781a7daa56e2f1e4f73574727cca020">Chunk::operator=</a>( ref ); <span class="comment">//copy the chunk of ref</span>
<a name="l00331"></a>00331         <span class="comment">//get rid of my TypePtr and make a new copying/converting the data of ref (use the reset-function of the scoped_ptr Chunk is made of)</span>
<a name="l00332"></a>00332         <a class="code" href="classisis_1_1util_1_1__internal_1_1TypeReference.html#d3032923e1706315398f6e1df45f9765" title="Copy operator This operator replaces the current content by a copy of the content...">TypePtrReference::operator=</a>( ref.<a class="code" href="classisis_1_1data_1_1Chunk.html#413242242009e29a96d031f7c774e2b9">getTypePtrBase</a>().<a class="code" href="classisis_1_1data_1_1__internal_1_1TypePtrBase.html#ca7d57840a639c2315790a5455db150a">copyToNewById</a>( <a class="code" href="classisis_1_1data_1_1TypePtr.html" title="Generic class for type (and length) - aware pointers.">TypePtr&lt;TYPE&gt;::staticID</a> ) );
<a name="l00333"></a>00333         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00334"></a>00334     }
<a name="l00336"></a><a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#12903d6b1577134bd670ca24afadb0c9">00336</a>     <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html">MemChunkNonDel</a> &amp;<a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#3c13bcfbb74e214c66207a712829a865" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( <span class="keyword">const</span> <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html">MemChunkNonDel&lt;TYPE&gt;</a> &amp;ref ) { <span class="comment">//this is needed, to prevent generation of default-copy operator</span>
<a name="l00337"></a>00337         <span class="keywordflow">return</span> <a class="code" href="classisis_1_1data_1_1MemChunkNonDel.html#3c13bcfbb74e214c66207a712829a865" title="Create a deep copy of a given Chunk (automatic conversion will be used if datatype...">operator=</a>( static_cast&lt;const Chunk &amp;&gt;( ref ) );
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339 };
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 }
<a name="l00342"></a>00342 <span class="preprocessor">#endif // CHUNK_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Dec 14 17:52:39 2010 for ISIS Core Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
